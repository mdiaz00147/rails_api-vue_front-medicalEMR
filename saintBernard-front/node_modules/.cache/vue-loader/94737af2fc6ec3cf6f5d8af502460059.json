{"remainingRequest":"/Users/mdiaz00147/Desktop/rakesh/saintBernard-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mdiaz00147/Desktop/rakesh/saintBernard-front/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mdiaz00147/Desktop/rakesh/saintBernard-front/src/views/Home.vue","mtime":1548894406944},{"path":"/Users/mdiaz00147/Desktop/rakesh/saintBernard-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mdiaz00147/Desktop/rakesh/saintBernard-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// @ is an alias to /src\n\nimport * as config from '@/config/settings'\nimport router from '@/router'\nimport axios from 'axios'\n\nimport HeaderComponent from '@/components/Header'\nimport FooterComponent from '@/components/Footer'\n\nexport default {\n  name: 'Login',\n  data(){\n    return {\n      loading: false,\n      form: {}\n    }\n  },\n  \n  components: {\n    'header-component': HeaderComponent,\n    'footer-component': FooterComponent\n  },\n  \n  methods: {\n    onSubmit (evt) {\n      evt.preventDefault()\n      this.loading = true\n      axios.post(config.defaultURL + '/v1/client/sessions', this.form)\n      .then(response => {\n        this.clientLogin(response.data)\n        this.loading = false\n      })\n      .catch((error) => {\n        this.$toasted.show(error.response.data, { \n          position:'top-right', \n          duration: 5000,\n          type: 'default',\n          closeOnSwipe: true\n        })\n        this.loading = false\n      })\n    },\n    \n    clientLogin(data){\n      let action\n      action = async() => {\n        await localStorage.setItem('auth_token', data.auth_token)\n        await localStorage.setItem('user', JSON.stringify(data.user))\n        await router.push(\"patients\")\n      }\n      action()\n    }\n\n  }\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <header-component/>\n    \n    <div class=\"jumbotron\">\n      <h1>Members Log In</h1>\n      <br>\n\n      <form  class=\"text-left row\" @submit=\"onSubmit\">\n        <div class=\"form-group\">\n          <label for=\"exampleInputEmail1\">Email address</label>\n          <input v-model=\"form.email\" type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" placeholder=\"Email\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"exampleInputPassword1\">Password</label>\n          <input v-model=\"form.password\" type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\">\n        </div>\n\n        <div class=\"checkbox\">\n          <label>\n            <input type=\"checkbox\"> Remember\n          </label>\n        </div>\n        <button v-if=\"!loading\" type=\"submit\" class=\"btn btn-success col-md-6\">Sign In</button>\n        <button v-if=\"loading\" type=\"submit\" class=\"btn btn-success col-md-6\" disabled>Loading <i class=\"fa fa-spinner fa-spin\"></i></button>\n        <router-link to=\"/register\" class=\"btn btn-primary col-md-6\">Register</router-link>\n      </form>\n    </div>\n\n    <footer-component/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport * as config from '@/config/settings'\nimport router from '@/router'\nimport axios from 'axios'\n\nimport HeaderComponent from '@/components/Header'\nimport FooterComponent from '@/components/Footer'\n\nexport default {\n  name: 'Login',\n  data(){\n    return {\n      loading: false,\n      form: {}\n    }\n  },\n  \n  components: {\n    'header-component': HeaderComponent,\n    'footer-component': FooterComponent\n  },\n  \n  methods: {\n    onSubmit (evt) {\n      evt.preventDefault()\n      this.loading = true\n      axios.post(config.defaultURL + '/v1/client/sessions', this.form)\n      .then(response => {\n        this.clientLogin(response.data)\n        this.loading = false\n      })\n      .catch((error) => {\n        this.$toasted.show(error.response.data, { \n          position:'top-right', \n          duration: 5000,\n          type: 'default',\n          closeOnSwipe: true\n        })\n        this.loading = false\n      })\n    },\n    \n    clientLogin(data){\n      let action\n      action = async() => {\n        await localStorage.setItem('auth_token', data.auth_token)\n        await localStorage.setItem('user', JSON.stringify(data.user))\n        await router.push(\"patients\")\n      }\n      action()\n    }\n\n  }\n}\n</script>\n"]}]}